jQuery(function(e){e("body.no-js").removeClass("no-js"),e(".entry-content .flexslider:not(.metaslider .flexslider), #metaslider-demo.flexslider, .gallery-format-slider").flexslider({}),void 0!==e.fn.fitVids&&e(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main, #masthead-widgets, #header-sidebar").fitVids({ignore:".tableauViz"});var n=e("body").hasClass("so-vantage-mobile-device"),t=e("body").hasClass("so-vantage-customizer-preview");e("nav.site-navigation.primary").hasClass("mobile-navigation");(!n&&e("#scroll-to-top").hasClass("scroll-to-top")||t||n)&&(e(window).scroll(function(){e(window).scrollTop()>150?e("#scroll-to-top").addClass("displayed"):e("#scroll-to-top").removeClass("displayed")}),e("#scroll-to-top").click(function(){return e("html, body").animate({scrollTop:"0px"}),!1})),e(".vantage-carousel").each(function(){var n=e(this),t=n.closest(".widget").find(".widget-title"),i=n.find(".carousel-entry"),a=i.eq(0),o=0,s=1,r=!1,c=!1,l=i.length,d=a.width()+parseInt(a.css("margin-right")),u=function(){o<0&&(o=0),o>=n.find(".carousel-entry").length-1&&(o=n.find(".carousel-entry").length-1,r||c||(r=!0,s++,n.append('<li class="loading"></li>'),e.get(n.data("ajax-url"),{query:n.data("query"),action:"vantage_carousel_load",paged:s},function(t,i){var a=e(t.html).find(".carousel-entry").appendTo(n).hide().fadeIn().length;l+=a,0===a?(c=!0,n.find(".loading").fadeOut(function(){e(this).remove()})):n.find(".loading").remove(),r=!1}))),n.css("transition-duration","0.45s"),n.css("margin-left",-d*o+"px")};t.find("a.previous").click(function(){return o-=1,u(),!1}),t.find("a.next").click(function(){return o+=1,u(),!1});var f,m=!1,h=0,g=0,v=0,p=0;n.swipe({excludedElements:"",triggerOnTouchEnd:!0,threshold:75,swipeStatus:function(e,n,t,i,a,s,r){if("start"===n)g=-d*o,p=(new Date).getTime(),clearInterval(f);else if("move"===n){"left"===t&&(i*=-1),y(g+i);var c=(new Date).getTime();v=(i-h)/((c-p)/1e3),p=c,h=i}else if("end"===n)if(m=!0,"left"===t&&(i*=-1),Math.abs(v)>400){v*=.1;var l=(new Date).getTime(),b=0;f=setInterval(function(){var e=((new Date).getTime()-l)/1e3,n=g+i+(b+=v*e),a=Math.abs(v)-30<0;"left"===t?v+=30:v-=30,!a&&y(n)||(clearInterval(f),w())},20)}else w();else"cancel"===n&&u()}});var y=function(e){return e<50&&e>-d*l&&(n.css("transition-duration","0s"),n.css("margin-left",e+"px"),!0)},w=function(){var e=parseInt(n.css("margin-left"));o=Math.abs(Math.round(e/d)),u()};n.on("click","li.carousel-entry .thumbnail a",function(e){m&&(e.preventDefault(),m=!1)})}),e("#masthead").on("mouseenter",".main-navigation ul:not(.mega-sub-menu):not(.children) li",function(){var n=e(this).find("> ul:not(.mega-sub-menu):not(.children)");n.css({display:"block",opacity:0}).clearQueue().animate({opacity:1},250),n.data("final-opacity",1)}).on("mouseleave",".main-navigation ul:not(.mega-sub-menu):not(.children) li",function(){var n=e(this).find("> ul:not(.mega-sub-menu):not(.children)");n.clearQueue().animate({opacity:0},250,function(){0===n.data("final-opacity")&&n.css("display","none")}),n.data("final-opacity",0)}),e("#header-sidebar .widget_nav_menu","#masthead-widgets .widget_nav_menu").on("mouseenter","ul.menu:not(.mega-sub-menu) li",function(){e(this).find("> ul:not(.mega-sub-menu)").finish().css("opacity",0).hide().slideDown(200).animate({opacity:1},{queue:!1,duration:200})}).on("mouseleave","ul.menu:not(.mega-sub-menu) li",function(){e(this).find("> ul:not(.mega-sub-menu)").finish().fadeOut(150)});var i=!1;e(document).click(function(){i||e("#search-icon form").fadeOut(250)}),e(document).on("click","#search-icon-icon",function(){var n=e(this).parent();n.find("form").fadeToggle(250),setTimeout(function(){n.find("input[name=s]").focus()},300)}),e(document).keyup(function(n){27==n.keyCode&&e("#search-icon form").fadeOut(250)}),e(document).on("mouseenter","#search-icon",function(){i=!0}).on("mouseleave","#search-icon",function(){i=!1}),e(window).resize(function(){e("#search-icon .searchform").each(function(){e(this).width(e(this).closest(".full-container").width())})}).resize(),e('body.layout-full #main-slider[data-stretch="true"]').each(function(){var n=e(this);n.find(">div").css("max-width","100%"),n.find(".slides li").each(function(){var n=e(this),t=n.find("img.ms-default-image").eq(0);t.length||(t=n.find("img").eq(0)),n.css("background-image","url("+t.attr("src")+")"),t.css("visibility","hidden"),n.wrapInner('<div class="full-container"></div>');var i=n.find("a");i.length&&(n.mouseover(function(){n.css("cursor","hand")}),n.mouseout(function(){n.css("cursor","pointer")}),n.click(function(n){n.preventDefault();var t=e(n.target),a=t.is("a")?t:i;window.open(a.attr("href"),a.attr("target"))}))})}),e("#header-sidebar").each(function(){var n=e(this),t=0;if(n.find("> aside").each(function(){var e=(n.outerHeight()-n.find("> aside").outerHeight())/2;e>t&&(t=e)}),t>15?n.css({"padding-top":t,"padding-bottom":t}):(t=15-t,e("#masthead .logo > *").css({"padding-top":t,"padding-bottom":t})),n.hasClass("no-logo-overlay")){var i=function(){n.closest("#masthead").removeClass("force-responsive");var t=e("#masthead .logo").find("h1,img");n.offset().left<t.offset().left+t.outerWidth()&&n.closest("#masthead").addClass("force-responsive")};e(window).resize(i),i()}}),e("#colophon #footer-widgets .widget_nav_menu a").each(function(){e(this);var n=10*e(this).parents(".sub-menu").length+"px";e(this).css("padding-left",n)}),e("body").find(".menuleft .current_page_ancestor").find("ul.children").toggle(),e(".menuleft>.page_item_has_children>a:after").on("click",function(){e(this).siblings(".children").slideToggle()});var a=e("#accordion .panel").hide();e("#accordion .accordion").click(function(){return a.slideUp(),e(this).parent().next().slideDown(),!1})});